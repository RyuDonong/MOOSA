<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<!-- 게시글 번호 미리 추출하는 구문 -->
<entry key="selectBoardNo">
		SELECT SEQ_BNO.NEXTVAL BNO
		FROM DUAL
	</entry>
	
	
	<!-- 사진게시글 작성 구문 -->
	<entry key="insertThumbnail">
		INSERT INTO BOARD(BOARD_NO
						 ,BOARD_TITLE
						 ,BOARD_CONTENT
						 ,BOARD_WRITER
						 ,CATEGORY_NO)
	            VALUES(?
	            	   ,?
	            	   ,?
	            	   ,?
	            	   ,3)
	</entry>
	<!-- 사진게시글 첨부파일 처리 -->
	<entry key="insertAttachmentList">
		INSERT INTO PHOTO(PHOTO_NO
		                     ,REF_BNO
		                     ,ORIGIN_NAME
		                      ,CHANGE_NAME
		                      ,FILE_PATH
		                      ,FILE_LEVEL
		                      ,TOUR_NO)
            VALUES(SEQ_PNO.NEXTVAL            
                  ,?
                  ,?
                  ,?
                  ,?
                  ,5
                  ,3)
	
	
	</entry>
	
	
	<entry key="selectThumbnailList">
		SELECT BOARD_NO
		      ,BOARD_TITLE
		      ,COUNT
		      ,BOARD_CONTENT
		      ,FILE_PATH || CHANGE_NAME THUMBNAIL
		FROM BOARD B 
		JOIN PHOTO ON (BOARD_NO =  REF_BNO)
		WHERE B.STATUS='Y'
		AND FILE_LEVEL=5
		ORDER BY CREATE_DATE DESC
	</entry>
		<!-- 게시글 조회수증가 -->
	<entry key="increaseCount">
		UPDATE BOARD
		SET COUNT = COUNT+1
		WHERE BOARD_NO=?
		AND STATUS='Y'
	</entry>
	<!-- 게시글 단일 조회 -->
	<entry key="selectBoard">
		SELECT BOARD_NO
			 , BOARD_TITLE
			  ,BOARD_CONTENT
			  ,USER_ID
			  ,CREATE_DATE
		FROM BOARD B
        JOIN MEMBER ON (USER_NO=BOARD_WRITER)
		WHERE BOARD_NO = ?
		AND B.STATUS ='Y'
	</entry>
	<entry key="selectAttachment">
		SELECT PHOTO_NO
		      ,ORIGIN_NAME
		      ,CHANGE_NAME
		      ,FILE_PATH
		FROM PHOTO
		WHERE REF_BNO = ?
	</entry>
	
	

</properties>